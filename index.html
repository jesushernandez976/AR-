<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>[ACP] AUGMENTED REALITY--</title>
    <meta name="" content="" />
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <style>
        body {
            margin: 0;
            overflow: hidden;
        }

        .a-enter-vr-button {
            display: none;
        }

        p {
    position: fixed;
    left: 50%;
    bottom: 0px;
    transform: translateX(-50%);
    z-index: 9999;
    color: white;
    font-size: 5px;
}

.shiny-image {
    display: flex;
    width: 120px;
    position: fixed;
    left: 50%;
    bottom: 18px;
    transform: translateX(-50%);
    z-index: 1;
}

.logo-container:hover {
  cursor: pointer;
}


.animated-button1 {
  background: linear-gradient(-30deg, rgba(14, 53, 80, 0.2) 50%, rgba(8, 26, 43, 0.3) 50%);
  padding: 20px 40px;
  margin: 0px;
  display: inline-block;
  -webkit-transform: translate(0%, 0%);
          transform: translate(0%, 0%);
  overflow: hidden;
  color: #f7d4d4;
  font-size: 20px;
  letter-spacing: 2.5px;
  text-align: center;
  text-transform: uppercase;
  text-decoration: none;
  -webkit-box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
          box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
  position: fixed;
  right: 0px;
  left: 0px;
  bottom: 0px;
  height: 10px;
  z-index: 1;
}

.animated-button1::before {
  content: '';
  position: absolute;
  top: 0px;
  left: 0px;
  width: 100%;
  height: 100%;
  background-color: #ad8585;
  opacity: 0;
  -webkit-transition: .2s opacity ease-in-out;
  transition: .2s opacity ease-in-out;
}

.animated-button1:hover::before {
  opacity: 0.2;
}

.animated-button1 span {
  position: absolute;
}

.animated-button1 span:nth-child(1) {
  top: 0px;
  left: 0px;
  width: 100%;
  height: 2px;
  background: -webkit-gradient(linear, right top, left top, from(rgba(43, 8, 8, 0)), to(#d92626));
  background: linear-gradient(to left, rgba(43, 8, 8, 0), #269dd9);
  -webkit-animation: 2s animateTop linear infinite;
          animation: 2s animateTop linear infinite;
}

@keyframes animateTop {
  0% {
    -webkit-transform: translateX(100%);
            transform: translateX(100%);
  }
  100% {
    -webkit-transform: translateX(-100%);
            transform: translateX(-100%);
  }
}

.animated-button1 span:nth-child(2) {
  top: 0px;
  right: 0px;
  height: 100%;
  width: 2px;
  background: -webkit-gradient(linear, left bottom, left top, from(rgba(43, 8, 8, 0)), to(#d92626));
  background: linear-gradient(to top, rgba(43, 8, 8, 0), #269ad9);
  -webkit-animation: 2s animateRight linear -1s infinite;
          animation: 2s animateRight linear -1s infinite;
}

@keyframes animateRight {
  0% {
    -webkit-transform: translateY(100%);
            transform: translateY(100%);
  }
  100% {
    -webkit-transform: translateY(-100%);
            transform: translateY(-100%);
  }
}

.animated-button1 span:nth-child(3) {
  bottom: 0px;
  left: 0px;
  width: 100%;
  height: 2px;
  background: -webkit-gradient(linear, left top, right top, from(rgba(43, 8, 8, 0)), to(#d92626));
  background: linear-gradient(to right, rgba(43, 8, 8, 0), #269ad9);
  -webkit-animation: 2s animateBottom linear infinite;
          animation: 2s animateBottom linear infinite;
}

@keyframes animateBottom {
  0% {
    -webkit-transform: translateX(-100%);
            transform: translateX(-100%);
  }
  100% {
    -webkit-transform: translateX(100%);
            transform: translateX(100%);
  }
}

.animated-button1 span:nth-child(4) {
  top: 0px;
  left: 0px;
  height: 100%;
  width: 2px;
  background: -webkit-gradient(linear, left top, left bottom, from(rgba(43, 8, 8, 0.2)), to(rgba(18, 154, 217, 0.8)));
background: linear-gradient(to bottom, rgba(43, 8, 8, 0.2), rgba(38, 154, 217, 0.8));

  -webkit-animation: 2s animateLeft linear -1s infinite;
          animation: 2s animateLeft linear -1s infinite;
}

@keyframes animateLeft {
  0% {
    -webkit-transform: translateY(-100%);
            transform: translateY(-100%);
  }
  100% {
    -webkit-transform: translateY(100%);
            transform: translateY(100%);
  }
}

.right {
  display: flex;
  position: fixed;
  height: 91.8%;
  width: 50%;
  background-color:transparent;
  z-index: 10;
  right:0;
  top:0;

}

.left{
  display: flex;
  position: fixed;
  height: 91.8%;
  width: 50%;
  background-color: transparent;
  z-index: 10;
  left:0;
  top:0;

}


    </style>
</head>
<body>

  <div class="right">

  </div>
  <div class="left">

  </div>
  <a class="animated-button1">
    <span></span>
    <span></span>
    <span></span>
    <span></span>
  </a>
    <div class="logo-container">
    <a href="https://accesscodepro.com/" class="logo">
        <img src="https://cdn.glitch.global/11f87b4d-87c2-4a8d-b332-ffb5f42efbcd/Access%20%20AR%20LOGO%2002-05.png?v=1730420098269" alt="Access code logo" class="shiny-image">
    </a>
</div>
    </div>
    <p class="tag"><br/>
      © 2025 [ACP]  All Rights Reserved.</p>

    <a-scene embedded arjs="detectionMode: mono_and_matrix; matrixCodeType: 3x3; sourceType: webcam;  maxDetectionRate: 300; disableDefaultUI: true; trackingMethod: best; smooth: true; smoothCount: 45; smoothTolerance: 0.10; smoothThreshold: 20;" debug="false" antialias="true">
      <a-light type="ambient" intensity="1" color="#ffffff"></a-light>
      <a-light type="directional" intensity="1" color="#ffffff" position="1 1 1"></a-light>      
        <a-marker type='pattern' url='https://cdn.glitch.global/11f87b4d-87c2-4a8d-b332-ffb5f42efbcd/pattern-AR%20MARKER.patt?v=1730360025912' size="3" patternRatio="0.5">
        <a-entity
                id="model"
                position="0 -7 -2"
                scale="0.10 0.10 0.10"
                gltf-model="https://cdn.glitch.global/11f87b4d-87c2-4a8d-b332-ffb5f42efbcd/3D_Hoodie_Mockupblack.glb?v=1730249950221"
                material="shader: flat; opacity: 1;"
                animation="property: rotation; to: 0 360 0; dur: 5000; loop: true; easing: linear">
            </a-entity>
          </a-marker>       
           <a-entity camera></a-entity>
    </a-scene>

    <script>

      alert("Welcome to Augmented Reality®--Please allow app to access your camera for accurate rendering.");

    let initialized = false;
    let currentIndex = 0; // Track current model index
    const models = [
        "https://cdn.glitch.global/11f87b4d-87c2-4a8d-b332-ffb5f42efbcd/3D_Hoodie_Mockupblack.glb?v=1730249950221",
        "https://cdn.glitch.global/11f87b4d-87c2-4a8d-b332-ffb5f42efbcd/3D_Hoodie_Mockupwhite.glb?v=1730250247042",
        "https://cdn.glitch.global/11f87b4d-87c2-4a8d-b332-ffb5f42efbcd/3D_Hoodie_Mockupblue.glb?v=1730249574324"
    ];


    const modelEntity = document.querySelector('#model');
      const rightDiv = document.querySelector('.right');
      const leftDiv = document.querySelector('.left');

      // Check if the model element exists
      if (!modelEntity) {
        console.error("Model element not found!");
      }
      
      let isProcessing = false;
      // Ensure the right and left arrow divs are present
      if (rightDiv && leftDiv) {
    // Right arrow click
    rightDiv.addEventListener('click', (event) => {
      event.preventDefault(); // Prevent default action (reload)
      event.stopImmediatePropagation(); // Stop event from propagating further
      if (isProcessing) return; // Skip if already processing
      isProcessing = true;

      console.log("Right arrow clicked");
      currentIndex = (currentIndex + 1) % models.length; // Move to next model
      modelEntity.setAttribute('gltf-model', models[currentIndex]);

      // Allow further clicks after a short delay
      setTimeout(() => {
        isProcessing = false;
      }, 500); // Adjust the delay as necessary
    });

        // Left arrow click
        leftDiv.addEventListener('click', (event) => {
      event.preventDefault(); // Prevent default action (reload)
      event.stopImmediatePropagation(); // Stop event from propagating further
      if (isProcessing) return; // Skip if already processing
      isProcessing = true;

      console.log("Left arrow clicked");
      currentIndex = (currentIndex - 1 + models.length) % models.length; // Move to previous model
      modelEntity.setAttribute('gltf-model', models[currentIndex]);

      // Allow further clicks after a short delay
      setTimeout(() => {
        isProcessing = false;
      }, 500); // Adjust the delay as necessary
    });
  } else {
    console.error("Left or Right div element not found!");
  }

      // Example of removing event listeners before adding new ones
      modelEntity.setAttribute('gltf-model', '');  // Clear the current model when it's not needed anymore
      modelEntity = null;

      // Add the event listeners after removing the previous ones
      removePreviousListeners();
      rightDiv.addEventListener('click', handleRightClick);
      leftDiv.addEventListener('click', handleLeftClick);
    // Marker event listeners
    const marker = document.querySelector("a-marker");

    if (marker) {
        marker.addEventListener('markerFound', () => {
            if (!initialized) {
                console.log("Marker found, initializing AR content.");
                initialized = true;
            }
            model.setAttribute('position', '0 -7 -2');
            model.setAttribute('scale', '0.10 0.10 0.10');
        });

        marker.addEventListener('markerLost', () => {
            console.log("Marker lost, keeping AR content intact.");
            model.setAttribute('position', '0 -20 -4');
        });

        marker.addEventListener('transformUpdated', (e) => {
            const distance = Math.abs(e.detail.matrix.elements[14]);
            let scaleFactor = distance > 1 ? 0.10 + (distance / 20) : 0.10;
            const currentScale = model.getAttribute('scale');
            if (Math.abs(currentScale.x - scaleFactor) > 0.01) { // Small threshold to avoid unnecessary updates
              model.setAttribute('scale', `${scaleFactor} ${scaleFactor} ${scaleFactor}`);
            }
          });
    } else {
        console.error("Marker element not found!");
    }

     // Prevent reload on window resize and orientation change
  window.addEventListener('resize', (event) => {
      event.preventDefault();
      event.stopImmediatePropagation(); // Prevent event from propagating further
      console.log("Preventing reload on resize");
  });

  window.addEventListener('orientationchange', (event) => {
      event.preventDefault();
      event.stopImmediatePropagation(); // Prevent event from propagating further
      console.log("Preventing reload on orientation change");
  });

  // Prevent the page from reloading when the user clicks anywhere on the document
  document.body.addEventListener('click', (event) => {
    event.preventDefault();
    event.stopImmediatePropagation();
    console.log("Click event intercepted to prevent reload");
  });

</script>
</body>
</html>